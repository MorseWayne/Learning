---
title: 智能信息-鸿蒙开发工程师-夸克-广州
icon: /assets/icons/article.svg
order: 1
category:
  - Interview
  - C++
  - Quark
---

夸克的面试明显比美团难多了，非常底层的问题，由于我的项目里面提到了网络协议，`Binder`机制、没想到这个团队就是做这些的，听面试官讲，这个部门主要是做网络库封装，`arkts`到移动端的`native binding`能力，程序冷启动优化等业务。面试官疯狂提问，有些东西都太久远了，我都快记不得了😒😒😒

## 岗位介绍

负麦夸克鸿蒙/安卓客户端核心功能模块的设计与开发，保障业务性能与稳定性。
优化鸿蒙移动端用户体验，通过技术手段提升交互流畅度与资源利用率。参与技术基础设施建设，推动研发流程标准化与工具链优化。
**岗位要求**

- 一年以上工作经验，计算机基础扎实，熟悉数据结构和算法，在网络编程，多线程，操作系统方面有较深的知识掌握和实践经验,
- 孰练掌握鸿蒙/安卓系统开发技术栈(如`ArKTS`/`Java`)或前端开发流程，有中大型移动端项目经验优先熟悉移动端性能调优及其原理(内存管理、渲染优化等)，能解决复杂技术问题。
- 技术视野开阔，关注行业趋势，具备新技术调研与落地能力。沟通协作能力强，能在跨团队合作中高效推动技术方案落地。

## 第一个环节，介绍项目

## 第二个环节，围绕项目使用的技术进行提问

1. **网络协议相关**

    1. `ssh`协议如何保证安全的(主要是讲身份验证的方式和过程)；
    2. 网络中报文如何保证传输安全，用到的加密技术有哪些；
    3. 讲讲网络中出现大量丢包的情况，如何定位和分析，并如何做好优化；
    4. 你项目里面讲了你把传输性能提高了一倍，能讲讲你具体做了哪些优化工作吗；
    5. 对于比较大的业务报文中间的某些小包发生丢失，如何实现一种手段保证重传效率；
    6. 知道哪些基于`udp`实现的协议吗，比如`quic`协议栈，了解吗，详细讲讲？

2. **socket编程相关**

    1. 你提到了`libevent`库，你了解它的核心机制吗(我提到了IO多路复用，面试官顺势就提到了`epoll`)；
    2. 你了解`epoll`吗，`epoll`的使用方式，`epoll`监听事件的底层机制你知道吗？；

3. **IPC相关和进程启动**

    1. 你讲到了你熟悉`binder`，能将一下`binder`的原理吗，整个`binder`调用的整体流程是啥，`binder`的性能优化，

        相对于传统的`ipc`调用在数据上的体现是怎么样的；

    2. 由于进程的冷启动，我的`binder`发起的请求响应很慢，你能提一下大概有哪些原因，如何优化这个调用时延；

4. **内存相关：**

    1. 你讲一下堆和栈的区别；
    2. 什么情况下会栈溢出;
    3. 如何定位堆破坏的问题，有哪些手段，在生产环境上如何定位；
    4. 一般栈的大小是多少，M？K？一个栈帧的内容是啥，有多大？

5. **`gdb`的使用**

    1. 如何查看堆栈调用信息；
    2. 如何查看寄存器信息；
    3. 如何查看内存信息，内存打印的命令和方式；

6. **`linux shell`的使用**

    1. 如何判断`shell`命令的返回值；
    2. 查看`cpu`架构的命令是啥；

7. **其余问题**

    1. 你业务针对于大量窗口和应用的并发请求，如何保证没问题的；
    2. 一个任务的执行出现阻塞，使用哪些分析可以分析整个线程阻塞在哪里；
    3. 一个任务的调度不符合预期，部分执行耗时长，使用哪些手段可以进行分析；
    4. 我看你工作转身挺大的，从网络协议栈到C端操作系统，讲讲你怎么适应和胜任工作的；

## 第三个环节

1. 讲一下C++的智能指针，有哪些，具体怎么实现；
2. `unique_ptr` 的实现原理，如果你要自己实现，有哪些关键的函数；
3. `unique_ptr` 的移动赋值如何保证原先的对象管理的内存不会变为野指针；
4. `weak_ptr`如何保证使用时保证资源是有效的而不是野指针；

## 第四个环节

使用十个线程，并发对一个int变量加100次，并将结果放入到传入的vector中，我开始实现了一个使用锁的版本

，然后面试官又让实现一个**无锁版本**；

```c++
// 函数原型如下
void concurrent_add(int* N, vector<int>* result) {
 
}
```
